$(document).ready(function(){function e(){$(".allow-agent").each(function(){var e=$(this).val();$(this).is(":checked")?$('.disallow-agent[value="'+e+'"]').prop("checked",!1).prop("disabled",!0):$("#disallow-all").is(":checked")||$('.disallow-agent[value="'+e+'"]').prop("disabled",!1)}),$(".disallow-agent").each(function(){var e=$(this).val();$(this).is(":checked")?$('.allow-agent[value="'+e+'"]').prop("checked",!1).prop("disabled",!0):$("#allow-all").is(":checked")||$('.allow-agent[value="'+e+'"]').prop("disabled",!1)})}$("#add-sitemap").click(function(){$("#sitemaps").append('<div class="sitemap-field"><input type="text" class="sitemap"> <button class="remove-sitemap">X</button></div>')}),$(document).on("click",".remove-sitemap",function(){$(this).parent().remove()}),$("#add-allow").click(function(){$("#allows").append('<div class="allow-field"><input type="text" class="allow" placeholder="/allowed-path"> <button class="remove-allow">X</button></div>')}),$(document).on("click",".remove-allow",function(){$(this).parent().remove()}),$("#add-disallow").click(function(){$("#disallows").append('<div class="disallow-field"><input type="text" class="disallow" placeholder="/disallowed-path"> <button class="remove-disallow">X</button></div>')}),$(document).on("click",".remove-disallow",function(){$(this).parent().remove()}),$("#allow-all, #disallow-all").change(function(){$("#allow-all").is(":checked")?($(".allow-agent").prop("checked",!0).prop("disabled",!0),$("#allow-all").prop("disabled",!1),$(".disallow-agent").prop("disabled",!0)):($(".allow-agent").prop("disabled",!1),$(".disallow-agent").prop("disabled",!1)),$("#disallow-all").is(":checked")?($(".disallow-agent").prop("checked",!0).prop("disabled",!0),$("#disallow-all").prop("disabled",!1),$(".allow-agent").prop("checked",!1).prop("disabled",!0)):($(".disallow-agent").prop("disabled",!1),$(".allow-agent").prop("disabled",!1)),e()}),$(".allow-agent, .disallow-agent").change(e),$("#generate").click(function(){let t="#Generated by COMPROMATH Robots.txt Generator\n",e=[];$(".sitemap").each(function(){$(this).val()&&e.push("Sitemap: "+$(this).val())});let l=[],o=[];$(".allow-agent:checked").each(function(){l.push($(this).val())}),$(".disallow-agent:checked").each(function(){o.push($(this).val())});let a=[];$(".allow").each(function(){$(this).val()&&a.push("Allow: "+$(this).val())});let n=[];$(".disallow").each(function(){$(this).val()&&n.push("Disallow: "+$(this).val())}),l.includes("*")?(t+="User-agent: *\n",a.forEach(e=>t+=e+"\n"),n.forEach(e=>t+=e+"\n"),t+="Allow: /\n"):l.forEach(e=>{t+="User-agent: "+e+"\n",a.forEach(e=>t+=e+"\n"),n.forEach(e=>t+=e+"\n"),t+="Allow: /\n"}),o.includes("*")?t+="User-agent: *\nDisallow: /\n":o.forEach(e=>{t+="User-agent: "+e+"\nDisallow: /\n"}),t+=e.join("\n")+"\n",$("#output").text(t),t?Swal.fire({title:"Success",text:"Robots.txt generated successfully!",icon:"success",confirmButtonText:"OK"}):Swal.fire({title:"Warning",text:"Please select at least one Allow or Disallow rule.",icon:"warning",confirmButtonText:"OK"})}),$("#copy").click(function(){var e=$("#output").text();e?navigator.clipboard.writeText(e).then(function(){Swal.fire({title:"Copied!",text:"Robots.txt content copied to clipboard.",icon:"success",confirmButtonText:"OK"})}).catch(function(e){Swal.fire({title:"Error",text:"Failed to copy. Please copy manually.",icon:"error",confirmButtonText:"OK"})}):Swal.fire({title:"Warning",text:"Nothing to copy. Please generate robots.txt first.",icon:"warning",confirmButtonText:"OK"})}),$("#download").click(function(){var t=$("#output").text();if(t){t=new Blob([t],{type:"text/plain"}),t=URL.createObjectURL(t);let e=document.createElement("a");e.href=t,e.download="robots.txt",document.body.appendChild(e),e.click(),document.body.removeChild(e),URL.revokeObjectURL(t),Swal.fire({title:"Downloaded!",text:"Robots.txt file downloaded.",icon:"success",confirmButtonText:"OK"})}else Swal.fire({title:"Warning",text:"Nothing to download. Please generate robots.txt first.",icon:"warning",confirmButtonText:"OK"})})});
